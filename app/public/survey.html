<!-- Assignment: Friend Finder -->
<!-- Programmer: Sohail Zafar -->
<!-- File: survey.html -->
<!-- This application asks users questions and matches users with other users who answered the survey similarly. -->
<!-- This is the survey page. In this page there are questions that the user answers and then answers are sent to the server. -->
<!-- This file is incomplete. Will complete soon. -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Survey</title>

    <!-- Bootstrap plugin -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>

    <!-- jQuery Modal -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />
    
    <link rel="stylesheet" href="./CSS_styling.css">
</head>
<body>
  <div class = container>
    <h1>Survey Questions</h1>
    <!-- Get information from user, name and link to photo -->
    <p> 
        <h3><strong>About You</strong></h3>
        <h4>Name (Required)</h4>
        <input type="text" id="nameString" class="form-control" required>

        <h4>Link to Photo Image (Required)</h4>
        <input type="text" id="photoLink" class="form-control" required>
    <hr></p>

    <!-- 10 Survey questions -->

    <!-- Question 1 -->
    <h3><strong>Question 1</strong></h3>
    <h4>You like to go to coffee shops.</h4>
    <select class="chosen-select" id="question1">
      <option value=""></option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <!-- Question 2 -->
    <h3><strong>Question 2</strong></h3>
    <h4>You like to go to bars and dance clubs.</h4>
    <select class="chosen-select" id="question2">
      <option value=""></option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <!-- Question 3 -->
    <h3><strong>Question 3</strong></h3>
    <h4>You like to go out and eat.</h4>
    <select class="chosen-select" id="question3">
      <option value=""></option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <!-- Question 4 -->
    <h3><strong>Question 4</strong></h3>
    <h4>You are liberal in your view of politics.</h4>
    <select class="chosen-select" id="question4">
      <option value=""></option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <!-- Question 5 -->
    <h3><strong>Question 4</strong></h3>
    <h4>You are conservative in your view of politics.</h4>
    <select class="chosen-select" id="question5">
      <option value=""></option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <!-- Question 6 -->
    <h3><strong>Question 6</strong></h3>
    <h4>You like Rap music.</h4>
    <select class="chosen-select" id="question6">
      <option value=""></option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <!-- Question 7 -->
    <h3><strong>Question 7</strong></h3>
    <h4>You like Rock and Roll music.</h4>
    <select class="chosen-select" id="question7">
      <option value=""></option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <!-- Question 8 -->
    <h3><strong>Question 8</strong></h3>
    <h4>You like pop music.</h4>
    <select class="chosen-select" id="question8">
      <option value=""></option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <!-- Question 9 -->
    <h3><strong>Question 9</strong></h3>
    <h4>Your hobbies include computers.</h4>
    <select class="chosen-select" id="question9">
      <option value=""></option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

    <!-- Question 10 -->
    <h3><strong>Question 10</strong></h3>
    <h4>You are religious.</h4>
    <select class="chosen-select" id="question10">
      <option value=""></option>
      <option value="1">1 (Strongly Disagree)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (Strongly Agree)</option>
    </select>

     
      <!-- Submit Button -->
    <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i>
        Submit</button>
   
       <hr>
     
      <!-- Footer -->
      <footer class="page-footer text-center"><h3><strong>Friend Finder App</strong></h3></footer> 

      <!-- Bootstrap Modal - Displays the closest friend match after user submit information -->

      <div id = "modal" class = "modal">
        <div class ="modal-content">
          <h3>New Friend</h3>
          <div class= "divider"></div>
          <h4 id = "newFriendName"></h4>
          <img id = "newFriendImage" width="550" src="">
        </div>
      </div>
    </div>


      <script type="text/javascript">
      // Global variables
      var friendNameMatch;
      var friendImageMatch;

      // Submit Button on-click event. Use Jquery to gather users response to questions and store them in a variable userInput
      $('#submit').on('click', function(event) {
        event.preventDefault();

      // Store user's question responses in a variable userInput
        var userInput = {
          name: $('#nameString').val().trim(),
          photo: $('#photoLink').val().trim(),
          scores:[
            $('#question1').val().trim(),
            $('#question2').val().trim(),
            $('#question3').val().trim(),
            $('#question4').val().trim(),
            $('#question5').val().trim(),
            $('#question6').val().trim(),
            $('#question7').val().trim(),
            $('#question8').val().trim(),
            $('#question9').val().trim(),
            $('#question10').val().trim()
          ]
        };
        // Send userInput to server.
        $.post("/app/routing/apiRoutes", userInput,function(returnData) {
            friendNameMatch = returnData.friendNameMatch;
            friendImageMatch = returnData.friendImageMatch;
          
          // Display closest friend match in Modal
            $("#newFriendName").html(friendNameMatch);
            $("#newFriendImage").attr("src",friendImageMatch);
            $("#modal").modal('open');
          });
       });

        
        </script>
</body>
</html>